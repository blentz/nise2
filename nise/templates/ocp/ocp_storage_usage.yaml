---
filename: '{{ report_month }}-{{ report_year }}-{{ clusterid }}-ocp_storage_usage.csv'
columns:
  - name: 'report_period_start'
    default: '1900-01-01'
    type: 'datetime'
    format: '%Y-%m-%d'
  - name: 'report_period_end'
    default: '1900-02-01'
    type: 'datetime'
    format: '%Y-%m-%d'
  - name: 'interval_start'
    type: 'datetime'
    format: '%Y-%m-%d %H:%M:%S +0000 UTC'
  - name: 'interval_end'
    type: 'datetime'
    format: '%Y-%m-%d %H:%M:%S +0000 UTC'
  - name: 'namespace'
    default: '{{ faker("word") }}_{{ ["ci", "qa", "prod", "proj", "dev", "staging"]|random }}'
    type: 'string'
    format: '{}_{}'
  - name: 'pod'
    default: '{{ faker("word") }}'
    type: 'string'
  - name: 'persistentvolumeclaim'
    default: '{{ faker("word") }}'
    type: 'string'
  - name: 'persistentvolume'
    default: '{{ faker("word") }}'
    type: 'string'
  - name: 'storageclass'
    default: '{{ ["gp2", "fast", "slow", "gold"]|random }}'
    type: 'string'
    seed:
      - 'gp2'
      - 'fast'
      - 'slow'
      - 'gold'
  - name: 'persistentvolumeclaim_capacity_bytes'
    type: 'calc'
  - name: 'persistentvolumeclaim_capacity_byte_seconds'
    type: 'calc'
  - name: 'volume_request_storage_byte_seconds'
    type: 'calc'
  - name: 'persistentvolumeclaim_usage_byte_seconds'
    type: 'calc'
  - name: 'persistentvolume_labels'
    default: 'label_{{ faker("word") }}:{{ faker("word") }}|label_{{ faker("word") }}:{{ faker("word") }}'
    type: 'tag'
    format: 'label_{}:{}'
    separator: '|'
    seed:
      - environment:
        - 'ci'
        - 'qa'
        - 'prod'
        - 'dev'
        - 'staging'
      - app:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - organization:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - market:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - version: 
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
  - name: 'persistentvolumeclaim_labels'
    default: 'label_{{ faker("word") }}:{{ faker("word") }}|label_{{ faker("word") }}:{{ faker("word") }}'
    type: 'tag'
    format: 
        key: 'label_{}'
        value: '{}'
        separator: '|'
    seed:
      - environment:
        - 'ci'
        - 'qa'
        - 'prod'
        - 'dev'
        - 'staging'
      - app:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - organization:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - market:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - version: 
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
