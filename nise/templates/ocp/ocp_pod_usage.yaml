---
filename: '{{ report_month }}-{{ report_year }}-{{ clusterid }}-ocp_pod_usage.csv'
columns:
  - name: 'report_period_start'
    default: '1900-01-01'
    type: 'datetime'
    format: '%Y-%m-%d'
  - name: 'report_period_end'
    default: '1900-02-01'
    type: 'datetime'
    format: '%Y-%m-%d'
  - name: 'pod'
    default: '{{ faker("word") }}'
    type: 'string'
  - name: 'namespace'
    default: '{{ faker("word") }}_{{ ["ci", "qa", "prod", "proj", "dev", "staging"]|random }}'
    type: 'string'
    format: '{}_{}'
    seed:
      - 'ci'
      - 'qa'
      - 'prod'
      - 'proj'
      - 'dev'
      - 'staging'
  - name: 'node'
    default: 'node_{{ faker("word") }}'
    type: 'string'
    format: 'node_{}'
  - name: 'resource_id'
    default: 'i-{{ faker("word") }}'
    type: 'string'
    format: 'i-{}'
  - name: 'interval_start'
    type: 'datetime'
    format: '%Y-%m-%d %H:%M:%S +0000 UTC'
  - name: 'interval_end'
    type: 'datetime'
    format: '%Y-%m-%d %H:%M:%S +0000 UTC'
  - name: 'pod_usage_cpu_core_seconds'
    type: 'calc'
  - name: 'pod_request_cpu_core_seconds'
    type: 'calc'
  - name: 'pod_limit_cpu_core_seconds'
    type: 'calc'
  - name: 'pod_usage_memory_byte_seconds'
    type: 'calc'
  - name: 'pod_request_memory_byte_seconds'
    type: 'calc'
  - name: 'pod_limit_memory_byte_seconds'
    type: 'calc'
  - name: 'node_capacity_cpu_cores'
    type: 'calc'
  - name: 'node_capacity_cpu_core_seconds'
    type: 'calc'
  - name: 'node_capacity_memory_bytes'
    type: 'calc'
  - name: 'node_capacity_memory_byte_seconds'
    type: 'calc'
  - name: 'pod_labels'
    default: 'label_{{ faker("word") }}:{{ faker("word") }}|label_{{ faker("word") }}:{{ faker("word") }}'
    type: 'tag'
    format: 
        key: 'label_{}'
        value: '{}'
        separator: '|'
    seed:
      - environment:
        - 'ci'
        - 'qa'
        - 'prod'
        - 'dev'
        - 'staging'
      - app:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - organization:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - market:
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
      - version: 
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
        - '{{ faker("word") }}'
